const { MessageEmbed } = require('discord.js');
const iconsABC = ['ğŸ‡¦', 'ğŸ‡§', 'ğŸ‡¨', 'ğŸ‡©', 'ğŸ‡ª', 'ğŸ‡«', 'ğŸ‡¬', 'ğŸ‡­', 'ğŸ‡®', 'ğŸ‡¯', 'ğŸ‡°', 'ğŸ‡±', 'ğŸ‡²', 'ğŸ‡³', 'ğŸ‡´', 'ğŸ‡µ', 'ğŸ‡¶', 'ğŸ‡·', 'ğŸ‡¸', 'ğŸ‡¹', 'ğŸ‡º', 'ğŸ‡»', 'ğŸ‡¼', 'ğŸ‡½', 'ğŸ‡¾', 'ğŸ‡¿', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''];

function getRandomInt(max) {
    return Math.floor(Math.random() * max);
}

const themes = [
    ['å†¬ä¼‘ã¿', 'æ˜¥ä¼‘ã¿'],
    ['å‰¯æ¥­', 'ã‚¢ãƒ«ãƒã‚¤ãƒˆ'],
    ['é¢¨å‘‚æƒé™¤', 'é£Ÿå™¨æ´—ã„'],
    ['twitter', 'Line'],
    ['æ°´æ—é¤¨', 'å‹•ç‰©åœ’'],
    ['ãƒ‰ãƒ©ãˆã‚‚ã‚“', 'ãƒ‰ãƒ©ãƒŸã¡ã‚ƒã‚“'],
    ['ãƒ•ã‚¡ãƒŸãƒ¬ã‚¹', 'ã‚«ãƒ•ã‚§'],
    ['ã‚¢ãƒ«ãƒã‚¤ãƒˆé¢æ¥', 'å°±æ´»'],
    ['ãŠå¹´ç‰', 'èª•ç”Ÿæ—¥ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆ'],
    ['ã‚¬ãƒ©ã‚±ãƒ¼', 'å›ºå®šé›»è©±'],
    ['å¤ªé™½', 'æœˆ'],
    ['ãƒãƒ•ãƒ©ãƒ¼', 'æ‰‹è¢‹'],
    ['ã‚¨ãƒ¬ãƒ™ãƒ¼ã‚¿ãƒ¼', 'ã‚¨ã‚¹ã‚«ãƒ¬ãƒ¼ã‚¿ãƒ¼'],
    ['ã‚³ãƒ³ãƒ“ãƒ‹', 'ã‚¹ãƒ¼ãƒ‘ãƒ¼'],
    ['æµ·', 'ãƒ—ãƒ¼ãƒ«'],
    ['å¹´æœ«', 'å¹´å§‹'],
    ['ã‚³ãƒ³ã‚¿ã‚¯ãƒˆãƒ¬ãƒ³ã‚º', 'ãƒ¡ã‚¬ãƒ'],
    ['ã‚»ãƒ­ãƒ†ãƒ¼ãƒ—', 'ã‚¬ãƒ ãƒ†ãƒ¼ãƒ—'],
    ['æ±äº¬ã‚¿ãƒ¯ãƒ¼', 'ã‚¹ã‚«ã‚¤ãƒ„ãƒªãƒ¼'],
    ['ã‚³ãƒƒãƒ—', 'ã‚°ãƒ©ã‚¹'],
    ['ã‚«ãƒ–ãƒˆãƒ ã‚·', 'ã‚¯ãƒ¯ã‚¬ã‚¿'],
    ['é£›è¡Œæ©Ÿ', 'æ–°å¹¹ç·š'],
    ['ã‚«ãƒ¬ãƒ¼', 'ã‚·ãƒãƒ¥ãƒ¼'],
    ['ã¯ã•ã¿', 'ã‚«ãƒƒã‚¿ãƒ¼'],
    ['ãƒ†ãƒ‹ã‚¹', 'å“çƒ'],
    ['ã‚¹ã‚±ãƒ¼ãƒˆ', 'ã‚¹ã‚­ãƒ¼'],
    ['ã‚Šã™', 'ãƒãƒ ã‚¹ã‚¿ãƒ¼'],
    ['ãã†', 'ãã‚Šã‚“'],
    ['ã‚¿ã‚¯ã‚·ãƒ¼', 'ãƒã‚¹'],
    ['ã‚»ãƒŸ', 'éˆ´è™«'],
    ['æ‰‡é¢¨æ©Ÿ', 'ã‚¯ãƒ¼ãƒ©ãƒ¼'],
    ['ãƒ‡ã‚£ã‚ºãƒ‹ãƒ¼ãƒ©ãƒ³ãƒ‰', 'ï¼µï¼³ï¼ª'],
    ['æµ®ãè¼ª', 'æ°´ä¸­ãƒ¡ã‚¬ãƒ'],
    ['æ´—æ¿¯æ©Ÿ', 'é£Ÿæ´—æ©Ÿ'],
    ['ãƒ–ãƒ©ãƒ³ã‚³', 'ã‚·ãƒ¼ã‚½ãƒ¼'],
    ['æ°´ä¸­ãƒ¡ã‚¬ãƒ', 'æµ®ãè¼ª'],
    ['ç›®ç‰ç„¼ã', 'ã‚¹ã‚¯ãƒ©ãƒ³ãƒ–ãƒ«ã‚¨ãƒƒã‚°'],
    ['é‹æ–™ç†', 'ãŠã§ã‚“'],
    ['ãƒãƒ§ã‚³ãƒ¬ãƒ¼ãƒˆ', 'ã‚­ãƒ£ãƒ©ãƒ¡ãƒ«'],
    ['ã‚³ãƒ¼ãƒ’ãƒ¼', 'ç´…èŒ¶'],
    ['æ—¥æœ¬é…’', 'ã‚¦ã‚£ã‚¹ã‚­ãƒ¼'],
    ['ã«ã‚“ã«ã', 'ã—ã‚‡ã†ãŒ'],
    ['ç™½èœ', 'ã‚­ãƒ£ãƒ™ãƒ„'],
    ['ã‚†ã§åµ', 'ç”Ÿåµ'],
    ['ã‹ãæ°·', 'ã‚¢ã‚¤ã‚¹ã‚¯ãƒªãƒ¼ãƒ '],
    ['ã‚¹ã‚¤ã‚«', 'ãƒ¡ãƒ­ãƒ³'],
    ['ãŠèŒ¶æ¼¬ã‘', 'ãµã‚Šã‹ã‘'],
    ['å¡©', 'ç ‚ç³–'],
    ['ã‚Šã‚“ã”', 'ãªã—'],
    ['ã†ã©ã‚“', 'ãã†ã‚ã‚“'],
    ['Google', 'Yahoo'],
    ['ãƒã‚¯ãƒ‰ãƒŠãƒ«ãƒ‰', 'ãƒ¢ã‚¹ãƒãƒ¼ã‚¬ãƒ¼'],
    ['ãƒ­ãƒƒãƒ†ãƒªã‚¢', 'ãƒ¢ã‚¹ãƒãƒ¼ã‚¬ãƒ¼'],
    ['ã‚¬ã‚¹ãƒˆ', 'ã‚µã‚¤ã‚¼ãƒªã‚¢'],
    ['å‰é‡å®¶', 'ã™ãã‚„'],
    ['docomo', 'softbank'],
    ['ã‚¹ã‚¿ãƒ', 'ãƒ‰ãƒˆãƒ¼ãƒ«'],
    ['ã‚»ãƒ–ãƒ³ã‚¤ãƒ¬ãƒ–ãƒ³', 'ãƒ•ã‚¡ãƒŸãƒ'],
    ['ãƒ­ãƒ¼ã‚½ãƒ³', 'ãƒ•ã‚¡ãƒŸãƒ'],
    ['æ¥½å¤©å¸‚å ´', 'amazon'],
    ['ä»»å¤©å ‚', 'ã‚½ãƒ‹ãƒ¼'],
    ['ã‚­ãƒªãƒ³', 'ã‚¢ã‚µãƒ’'],
    ['TOYOTA', 'NISSAN'],
    ['ãƒãƒƒã‚­ãƒ¼', 'ãƒˆãƒƒãƒ'],
    ['ã‚¢ãƒ³ãƒ‘ãƒ³', 'ã‚ã‚“ã¾ã‚“'],
    ['å¹¼ç¨šåœ’', 'ä¿è‚²åœ’'],
    ['ãƒœãƒ¼ãƒ«ãƒšãƒ³', 'ã‚·ãƒ£ãƒ¼ãƒ—ãƒšãƒ³'],
    ['ãƒ•ã‚¡ãƒŸãƒã‚­', 'ã‹ã‚‰ã‚ã’ãã‚“'],
    ['é’', 'æ°´è‰²'],
    ['ãƒã‚¤ãƒ³ãƒˆã‚«ãƒ¼ãƒ‰', 'ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰'],
    ['è‰²é‰›ç­†', 'ã‚¯ãƒ¬ãƒ¨ãƒ³'],
    ['ä¸å€«', 'æµ®æ°—'],
    ['ãƒˆãƒãƒˆãƒ‘ã‚¹ã‚¿', 'ã‚¯ãƒªãƒ¼ãƒ ãƒ‘ã‚¹ã‚¿'],
    ['é¤ƒå­', 'ã‚·ãƒ¥ãƒ¼ãƒã‚¤'],
    ['å‹é”', 'è¦ªå‹'],
    ['ãƒ‘ãƒãƒ³ã‚³', 'ã‚¹ãƒ­ãƒƒãƒˆ'],
    ['çŸ³é¹¸', 'ãƒãƒ³ãƒ‰ã‚½ãƒ¼ãƒ—'],
    ['ãƒ¬ãƒ¢ãƒ³', 'ã‚°ãƒ¬ãƒ¼ãƒ—ãƒ•ãƒ«ãƒ¼ãƒ„'],
    ['ã‚¹ã‚­ãƒ¼', 'ã‚¹ãƒãƒœãƒ¼'],
    ['ã‚³ã‚«ã‚³ãƒ¼ãƒ©', 'ãƒšãƒ—ã‚·'],
    ['é‡çƒ', 'ã‚½ãƒ•ãƒˆãƒœãƒ¼ãƒ«'],
    ['è‚‰ã¾ã‚“', 'ãƒ”ã‚¶ã¾ã‚“'],
    ['ãƒã‚«ãƒªã‚¹ã‚¨ãƒƒãƒˆ', 'ã‚¢ã‚¯ã‚¨ãƒªã‚¢ã‚¹'],
    ['ç‰‡æ€ã„', 'å¤±æ‹'],
    ['ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚­ã‚¹', 'åˆãƒ‡ãƒ¼ãƒˆ'],
    ['LINEã§å‘Šç™½', 'æ‰‹ç´™ã§å‘Šç™½'],
    ['æŸç¸›ç³»', 'ã‚¹ãƒˆãƒ¼ã‚«ãƒ¼'],
    ['ç­‹è‚‰ãƒ•ã‚§ãƒ', 'æ‰‹ãƒ•ã‚§ãƒ'],
    ['å£°ãƒ•ã‚§ãƒ', 'åŒ‚ã„ãƒ•ã‚§ãƒ'],
    ['é«˜åå…¥ã®ç•°æ€§', 'é«˜èº«é•·ã®ç•°æ€§'],
    ['èª å®Ÿãªæ‹äºº', 'å„ªã—ã„æ‹äºº'],
    ['å¥½ã¿ã®é¡”ã®ç•°æ€§', 'å¥½ã¿ã®ä½“ç³»ã®ç•°æ€§'],
    ['é‡‘éŠ­æ„Ÿè¦šãŒåˆã†', 'è¶£å‘³ãŒåˆã†'],
    ['ç¬‘é¡”ãŒç´ æ•µãªç•°æ€§', 'ãƒ¦ãƒ¼ãƒ¢ã‚¢ãŒã‚ã‚‹ç•°æ€§'],
    ['è‚‰é£Ÿç”·å­', 'è‰é£Ÿç”·å­'],
    ['æ°´æ—é¤¨ãƒ‡ãƒ¼ãƒˆ', 'å‹•ç‰©åœ’ãƒ‡ãƒ¼ãƒˆ'],
    ['ã‚«ãƒ©ã‚ªã‚±ãƒ‡ãƒ¼ãƒˆ', 'æ˜ ç”»é¤¨ãƒ‡ãƒ¼ãƒˆ'],
    ['èŠ±ç•‘ãƒ‡ãƒ¼ãƒˆ', 'ç‰§å ´ãƒ‡ãƒ¼ãƒˆ'],
    ['æµ®æ°—', 'æ€§æ ¼ã®ä¸ä¸€è‡´'],
    ['çµå©š', 'åŒæ£²'],
    ['ç´„æŸã‚’ç ´ã‚‹æ‹äºº', 'æ‚ªå£ã‚’è¨€ã†æ‹äºº'],
    ['ç…™è‰ã‚’ãŸãã•ã‚“å¸ã†ç•°æ€§', 'ãŠé…’ã‚’ãŸãã•ã‚“é£²ã‚€ç•°æ€§'],
    ['æµªè²»ç™–ãŒã‚ã‚‹æ‹äºº', 'ã‚¹ãƒãƒ›ä¸­æ¯’ã®æ‹äºº'],
    ['ç¤¾å†…æ‹æ„›', 'æ ¡å†…æ‹æ„›'],
    ['è©±ã—ãŒåˆã†ç•°æ€§', 'ãƒ¦ãƒ¼ãƒ¢ã‚¢ãŒã‚ã‚‹ç•°æ€§'],
    ['åˆ¶æœãƒ‡ãƒ¼ãƒˆ', 'æµ´è¡£ãƒ‡ãƒ¼ãƒˆ'],
    ['èª•ç”Ÿæ—¥ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆ', 'ã‚µãƒ—ãƒ©ã‚¤ã‚ºãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆ'],
    ['ã‹ã‚ã„ã„ç³»', 'ã‚­ãƒ¬ã‚¤ç³»'],
    ['ãƒ„ãƒ³ãƒ‡ãƒ¬', 'ãƒ¤ãƒ³ãƒ‡ãƒ¬'],
    ['æ¯ä¹³', 'ç‰›ä¹³'],
    ['ãƒ‘ãƒ³ãƒ„', 'è²¡å¸ƒ'],
    ['åˆã‚ã¦ã®ãŠã¤ã‹ã„', 'åˆã‚ã¦ã®ã‚­ã‚¹'],
    ['ç›†è¸Šã‚Š', 'ãƒ©ã‚¸ã‚ªä½“æ“'],
    ['ç—´æ¼¢', 'é¬¼ã”ã£ã“'],
    ['ãƒˆãƒ©ãƒ³ã‚¯ã‚¹', 'ãƒ–ãƒªãƒ¼ãƒ•'],
    ['ãŠãªã‚‰', 'ã—ã‚ƒã£ãã‚Š'],
    ['1å„„å††è²°ã£ãŸã‚‰', '10ä¸‡å††è²°ã£ãŸã‚‰'],
    ['çµµæœ¬', 'ã‚¨ãƒ­æœ¬'],
    ['åŒäººèªŒ', 'ã‚³ãƒŸã‚±'],
    ['é‡çƒ', 'å“çƒ'],
    ['é®­', 'é¯›'],
    ['ã‚³ãƒ³ã‚¿ã‚¯ãƒˆ', 'ã‚µãƒ³ã‚°ãƒ©ã‚¹'],
    ['ä»åƒ', 'éŠ…åƒ'],
    ['æ³¥æ£’', 'ã‚¹ãƒ‘ã‚¤'],
    ['ã„ãŸãšã‚‰', 'å–§å˜©'],
    ['æ—¥æœ¬èª', 'æ¼¢å­—'],
    ['æ¼¬ç‰©', 'ç™½èœ'],
    ['ã‚·ãƒ£ãƒ³ãƒ—', 'æ´—å‰¤'],
    ['ã—ãŠã‚Š', 'ã‚¢ãƒ«ãƒãƒ '],
    ['ãƒ˜ãƒªã‚³ãƒ—ã‚¿', 'è»½ãƒˆãƒ©ãƒƒã‚¯'],
    ['å¸‚å½¹æ‰€', 'éƒµä¾¿å±€'],
    ['ãƒ¨ãƒƒãƒˆ', 'ãƒ‘ãƒ©ã‚·ãƒ¥'],
    ['ä¸‹æ°´é“', 'ãƒˆã‚¤ãƒ¬'],
    ['æ‡ä¸­é›»ç¯', 'è±†é›»çƒ'],
    ['ä¸€ç™ºã‚®ãƒ£ã‚°', 'ä¸€ç™ºå±‹'],
    ['100ä¸‡å††', '1å„„å††'],
    ['ãƒ¡ã‚¤ãƒ‰', 'ã‚³ã‚¹ãƒ—ãƒ¬'],
    ['ã‚µãƒœãƒ†ãƒ³', 'ã‚µã‚½ãƒª'],
    ['å¤ªé™½', 'ãƒã‚²é ­'],
    ['4', '6'],
    ['2000å††æœ­', 'å°åˆ¤'],
    ['ç‚', 'èµ¤'],
    ['è¿·æƒ‘ãƒ¡ãƒ¼ãƒ«', 'ãƒãƒ©ã‚·'],
    ['è€³ã‹ã', 'ã™ããƒã‚µãƒŸ'],
    ['å¥½ããªäºº', 'ã‚¢ã‚¤ãƒ‰ãƒ«'],
    ['å‘Šç™½', 'æš´éœ²'],
    ['ãƒ—ãƒ­ãƒãƒ¼ã‚º', 'ã‚µãƒ—ãƒ©ã‚¤ã‚º'],
    ['æ‹æ„›', 'æ†§ã‚Œ'],
    ['ã‚ªãƒ•ä¼š', 'å‡ºä¼šã„'],
    ['ã‚µãƒœã‚Š', 'ä¼‘ã¿'],
    ['è©¦é¨“', 'ã‚ªãƒ¼ãƒ‡ã‚£ã‚·ãƒ§ãƒ³'],
    ['ä¸€äººæš®ã‚‰ã—', 'ã²ã¨ã‚Šã¼ã£ã¡'],
    ['ã‚¢ãƒ«ãƒã‚¤ãƒˆ', 'ãŠã¤ã‹ã„'],
    ['ãŠã¤ã¾ã¿', 'ãŠã‹ãš'],
    ['ç´ äºº', 'æœªæˆå¹´'],
    ['åˆå¿ƒè€…', 'æœªæˆå¹´'],
    ['è‹±èª', 'å‹‰å¼·'],
    ['ç¦é…’', 'ãƒ€ã‚¤ã‚¨ãƒƒãƒˆ'],
    ['æ€§æ¬²', 'ã‚¹ãƒˆãƒ¬ã‚¹'],
    ['ã‚¨ãƒ­æ¼«ç”»', 'Webæ¼«ç”»'],
    ['Tãƒãƒƒã‚¯', 'ã¾ã‚ã—'],
    ['ãƒ¡ã‚¤ãƒ‰å–«èŒ¶', 'ã‚¬ãƒ¼ãƒ«ã‚ºãƒãƒ¼'],
    ['è¶£å‘³', 'ã‚ªâ—‹ãƒ‹ãƒ¼'],
    ['ç·Šæ€¥åœ°éœ‡é€Ÿå ±', 'Jã‚¢ãƒ©ãƒ¼ãƒˆ'],
    ['åˆ‘å‹™æ‰€', 'é˜²ç©ºå£•'],
    ['å“²å­¦è€…', 'åšå£«'],
    ['å‚è€ƒæ›¸', 'ç™¾ç§‘äº‹å…¸'],
    ['æˆ¦äº‰', 'æš´å‹•'],
    ['ã‚¬ã‚¹ãƒã‚¹ã‚¯', 'å…œ']
];



/**************************************************************************************
 * ãƒ¯ãƒ¼ãƒ‰ã‚¦ãƒ«ãƒ•å‚åŠ å—ä»˜ã‚¨ãƒ³ãƒ™ãƒƒãƒ‰ã‚’è¿”ã™ã€‚å‚åŠ è€…ãƒ»è¦³æˆ¦è€…ã¯ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§æ›´æ–°ã™ã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚
 *
 * @param participants 
 *   participants = {
 *       player:[{name:'ã²ã¨ã§',id:12345789,role:'Villager',finalVote:false},{name:'ã‚†ã„ãª',id:987654321,role:'Wolf',finalVote:false}],
 *       watcher:[{name:'ã¾ã‚‹ã°',id:456789231},{name:'ã®ãƒ¼ã‚„',id:654987321}]
 *   } 
 ***************************************************************************************/
function getWordWolfEmbed(participants, alert = false) {
    let wordWolfEmbed = new MessageEmbed();
    wordWolfEmbed.setTitle('ãƒ¯ãƒ¼ãƒ‰ã‚¦ãƒ«ãƒ•');
    wordWolfEmbed.setDescription('ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã§å‚åŠ å—ä»˜\nãŠé¡Œã¯å€‹åˆ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«é€ä¿¡ã•ã‚Œã¾ã™\nğŸºï¼šå‚åŠ \nğŸ‘€ï¼šè¦³æˆ¦\nâ˜‘ï¸ï¼šé–‹å§‹\nâŒï¼šå‚åŠ ã‚­ãƒ£ãƒ³ã‚»ãƒ«\nğŸ’¡ï¼šãƒ«ãƒ¼ãƒ«èª¬æ˜\n\n');
    wordWolfEmbed.addField(name = 'å‚åŠ è€…', value = participants.player.length === 0 ? 'ãªã—' : participants.player.map(e => e.name).join('ã€'), inline = false);
    wordWolfEmbed.addField(name = 'è¦³æˆ¦è€…', value = participants.watcher.length === 0 ? 'ãªã—' : participants.watcher.map(e => e.name).join('ã€'), inline = false);
    wordWolfEmbed.setColor('#696969');
    if (alert) wordWolfEmbed.setFooter('â€»é–‹å§‹ã«ã¯ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒä¸‰äººä»¥ä¸Šå¿…è¦ã§ã™');
    return { embeds: [wordWolfEmbed] };
}


/**
 * @param participants å†…å®¹ã¯ä¸Šã¨åŒã˜
 messageList =  [
 {name:'ã²ã¨ã§',id:12345789,message:'ã‚ãªãŸã®ãŠé¡Œã¯ã€ŒAã€ã§ã™'},
 {name:'ã‚†ã„ãª',id:12345789,message:'ã‚ãªãŸã®ãŠé¡Œã¯ã€ŒBã€ã§ã™'},
 {name:'ã¾ã‚‹ã°',id:12345789,message:'æ‘äººã¯ã²ã¨ã§ã€ã®ãƒ¼ã‚„ã§ãŠé¡Œã¯ã€ŒAã€ã€äººç‹¼ã¯ã‚†ã„ãªã§ãŠé¡Œã¯ã€ŒBã€'}]
 *
 */

function getWordWolfMessageList(participants) {
    let messageList = [];
    let theme = themes[getRandomInt(themes.length)];
    // let wolf = getRandomInt(participants.player.length);

    //ãŠé¡Œã‚’ã‚·ãƒ£ãƒƒãƒ•ãƒ«
    if (getRandomInt(1))[theme[0], theme[1]] = [theme[1], theme[0]];

    //ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¿½åŠ 
    participants.player.forEach((e, i) => {
        if (e.role === 'Wolf') messageList.push({ name: e.name, id: e.id, message: `ã‚ãªãŸã®ãŠé¡Œã¯ã€Œ${theme[1]}ã€ã§ã™ã€‚` });
        else messageList.push({ name: e.name, id: e.id, message: `ã‚ãªãŸã®ãŠé¡Œã¯ã€Œ${theme[0]}ã€ã§ã™ã€‚` });
    });

    //è¦³æˆ¦è€…ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¿½åŠ 
    participants.watcher.forEach(e => {
        messageList.push({ name: e.name, id: e.id, message: `æ‘äººã¯${participants.player.filter(e=>e.role==='Villager').map(e=>e.name).join('ã€')}ã§ãŠé¡Œã¯ã€Œ${theme[0]}ã€ã€\näººç‹¼ã¯${participants.player.filter(e=>e.role==='Wolf').map(e=>e.name).join('ã€')}ã§ãŠé¡Œã¯ã€Œ${theme[1]}ã€ã§ã™` });
    });
    return messageList;
}

/**************************************************************************************
 * æŠ•ç¥¨ç”¨ã‚¨ãƒ³ãƒ™ãƒƒãƒ‰ã‚’è¿”ã™é–¢æ•°ã€‚
 *
 * @param participants 
 *   participants = {
 *       player:[{name:'ã²ã¨ã§',id:12345789},{name:'ã‚†ã„ãª',id:987654321}],
 *       watcher:[{name:'ã¾ã‚‹ã°',id:456789231},{name:'ã®ãƒ¼ã‚„',id:654987321}]
 *   } 
 ***************************************************************************************/
function getWordWolfVoteEmbed(participants) {
    let wordWolfVoteEmbed = new MessageEmbed();
    let isFinalVote = false;
    if (participants.player.filter(e => e.finalVote === true).length !== 0) isFinalVote = true;
    wordWolfVoteEmbed.setTitle(isFinalVote ? 'æ±ºé¸æŠ•ç¥¨' : 'æŠ•ç¥¨');
    wordWolfVoteEmbed.setDescription('äººç‹¼ã ã¨æ€ã†äººã«æŠ•ç¥¨ã—ã¦ä¸‹ã•ã„');
    wordWolfVoteEmbed.setColor('#696969');
    let text = [];
    //æ±ºé¸æŠ•ç¥¨ã®å ´åˆã¯finalVote==trueã®äººã®ã¿
    (isFinalVote ? participants.player.filter(e => e.finalVote === true) : participants.player).forEach((p, i) => {
        text.push(`${iconsABC[i]}ï¼š${p.name}`);
    });
    wordWolfVoteEmbed.addField(name = 'é¸æŠè‚¢', value = text.join('\n'), inline = false);
    wordWolfVoteEmbed.setFooter('å‚åŠ è€…å…¨å“¡ã®æŠ•ç¥¨ãŒçµ‚ã‚ã‚‹ã¨ã€è‡ªå‹•ã§çµæœãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚');
    return { embeds: [wordWolfVoteEmbed] };
}


/**


*/

/**************************************************************************************
 * æŠ•ç¥¨çµæœã‚¨ãƒ³ãƒ™ãƒƒãƒ‰ã‚’è¿”ã™é–¢æ•°ã€‚
 *
 * @param participants 
 *   participants = {
 *       player:[{name:'ã²ã¨ã§',id:12345789},{name:'ã‚†ã„ãª',id:987654321}],
 *       watcher:[{name:'ã¾ã‚‹ã°',id:456789231},{name:'ã®ãƒ¼ã‚„',id:654987321}]
 *   } 
 * @param vote æŠ•ç¥¨å†…å®¹
 *   vote = [
 *       {name:'ã²ã¨ã§',voted:['ã‚†ã„ãª','ã¾ã‚‹ã°','ã®ãƒ¼ã‚„'], killed:true},
 *       {name:'ã¾ã‚‹ã°',voted:[], killed:false},
 *       {name:'ã®ãƒ¼ã‚„',voted:[], killed:false},
 *       {name:'ã‚†ã„ãª',voted:['ã²ã¨ã§'], killed:false},
 *   ]
 * @param state æŠ•ç¥¨çµæœã«å¿œã˜ãŸã‚²ãƒ¼ãƒ çŠ¶æ³
 *      continue:ç¶™ç¶š
 *      winVillager:å¸‚æ°‘å´å‹åˆ©
 *      winWolf:äººç‹¼å´å‹åˆ©
 *
 *
 *
 ***************************************************************************************/
function getWordWolfVoteResultEmbed(participants, vote, state = 'continue', detail = false) {
    let wordWolfVoteResultEmbed = new MessageEmbed();
    wordWolfVoteResultEmbed.setTitle('æŠ•ç¥¨çµæœ');
    // wordWolfVoteResultEmbed.setDescription('');
    wordWolfVoteResultEmbed.setColor('#696969');
    let text = [];
    //voteã‚’é™é †ã«ã‚½ãƒ¼ãƒˆ
    vote.sort((a, b) => b.voted.length - a.voted.length);
    vote.forEach(e => {
        text.push(`${e.name}ï¼š${e.voted.length}ç¥¨${detail ? `(${ e.voted.join('ã€') })` : ''}`);
    });
    wordWolfVoteResultEmbed.addField(name = 'æŠ•ç¥¨çµæœã¯ä»¥ä¸‹ã®ã¨ãŠã‚Šã§ã™', value = text.join('\n'), inline = false);

    if (vote.filter(e => e.killed === true).length === 0) {
        //æ±ºé¸æŠ•ç¥¨ã®å ´åˆ
        wordWolfVoteResultEmbed.addField(name = 'åŒæ•°ã®ãŸã‚ã€æ±ºé¸æŠ•ç¥¨ã‚’è¡Œã„ã¾ã™ã€‚', value = '\u200B', inline = false);
    } else {
        wordWolfVoteResultEmbed.addField(name = `æŠ•ç¥¨ã®çµæœã€${vote.find(e=>e.killed===true).name}ã•ã‚“ãŒå‡¦åˆ‘ã•ã‚Œã¾ã—ãŸã€‚`, value = '\u200B', inline = false);
        if (state === 'continue') {
            wordWolfVoteResultEmbed.addField(name = 'ç¶™ç¶š', value = 'ğŸ“„ï¼šè©³ç´°è¡¨ç¤º\nğŸ“®ï¼šæ¬¡ã®æŠ•ç¥¨', inline = false);
        } else if (state === 'winVillager') {
            wordWolfVoteResultEmbed.addField(name = 'å¸‚æ°‘ã®å‹åˆ©ï¼', value = 'ğŸ“„ï¼šè©³ç´°è¡¨ç¤º', inline = false);
        } else if (state === 'winWolf') {
            wordWolfVoteResultEmbed.addField(name = 'äººç‹¼ã®å‹åˆ©ï¼', value = 'ğŸ“„ï¼šè©³ç´°è¡¨ç¤º', inline = false);
        }
        let killed
    }

    return { embeds: [wordWolfVoteResultEmbed] };
}


function getWordWolfRuleEmbed() {
    let wordWolfRuleEmbed = new MessageEmbed();
    let gaiyou = [
        'ãƒ¯ãƒ¼ãƒ‰ã‚¦ãƒ«ãƒ•ã¨ã¯ã€ã¿ã‚“ãªã§ã€Œã‚ã‚‹ãŠé¡Œã€ã«ã¤ã„ã¦è©±ã—åˆã†ä¸­ã§ã€',
        'ã¿ã‚“ãªã¨ã¯é•ã†å°‘æ•°æ´¾ã®ãŠé¡Œã«ã¤ã„ã¦è©±ã™äººï¼ˆï¼äººç‹¼ï¼‰ã‚’æ¢ã—å‡ºã™ã‚²ãƒ¼ãƒ ã§ã™ã€‚'
    ];
    let susumekata = [
        'â‘ ã¾ãšæœ€åˆã«ã€å‚åŠ è€…å…¨å“¡ã«ã¨ã‚ã‚‹ãŠé¡ŒãŒé…ã‚‰ã‚Œã¾ã™ã€‚',
        'ã“ã®æ™‚ç‚¹ã§è‡ªåˆ†ãŒå¸‚æ°‘ãªã®ã‹äººç‹¼ãªã®ã‹ã¯åˆ†ã‹ã‚Šã¾ã›ã‚“ã€‚',
        '',
        'â‘¡æ¬¡ã«å…¨å“¡ã§ãƒ•ãƒªãƒ¼ãƒˆãƒ¼ã‚¯ã®æ™‚é–“ãŒã‚ã‚Šã¾ã™ã€‚',
        'ã“ã“ã§è©±ã—åˆã£ãŸã‚Šè³ªå•ã—ãŸã‚Šã—ã¦ã€å°‘æ•°æ´¾ã®ãŠé¡Œã‚’ã‚‚ã‚‰ã£ãŸäººã‚’æ¢ã—å‡ºã—ã¾ã™ã€‚',
        '',
        'â‘¢ã„ã„é ƒåˆã„ã«ãªã£ãŸã‚‰ã€æŠ•ç¥¨ã‚¿ã‚¤ãƒ ã§ã™ã€‚',
        'è©±ã—åˆã„ã®ä¸­ã§æ€ªã—ã„ã¨æ„Ÿã˜ãŸäººã«æŠ•ç¥¨ã—ã¦ä¸‹ã•ã„ã€‚',
        '',
        'â‘£æŠ•ç¥¨ã§æœ€ã‚‚å¤šãã®ç¥¨ã‚’é›†ã‚ãŸäººãŒå‡¦åˆ‘ã•ã‚Œã¾ã™ã€‚',
        'æœ€å¤šç¥¨è€…ãŒè¤‡æ•°å±…ãŸå ´åˆã¯æ±ºé¸æŠ•ç¥¨ã‚’è¡Œã„ã€ãã‚Œã§ã‚‚åŒæ•°ã®å ´åˆã¯ãƒ©ãƒ³ãƒ€ãƒ ã§å‡¦åˆ‘ã•ã‚Œã¾ã™ã€‚',
        '',
        'â‘¤äººç‹¼ã‚’å…¨ã¦å‡¦åˆ‘ã§ãã‚Œã°å¸‚æ°‘ã®å‹åˆ©ã€',
        'é€†ã«å¸‚æ°‘ã‚’å…¨ã¦å‡¦åˆ‘ã§ãã‚Œã°äººç‹¼ã®å‹åˆ©ã§ã™ã€‚'
    ];
    let tokushurule = [
        'äººç‹¼ã¯ã€äººç‹¼å´ãŒå…¨ã¦å‡¦åˆ‘ã•ã‚Œã¦ã‚‚ã€å¸‚æ°‘å´ã®ãŠé¡Œã‚’å½“ã¦ã‚Œã°é€†è»¢å‹åˆ©ã«ã™ã‚‹ã¨ã„ã†ãƒ«ãƒ¼ãƒ«ã‚‚ã‚ã‚Šã¾ã™ã€‚',
        'é–‹å§‹å‰ã«ç‰¹æ®Šãƒ«ãƒ¼ãƒ«ã‚’æ¡ç”¨ã™ã‚‹ã‹ã¯æ±ºã‚ã¦ãŠãã¨è‰¯ã„ã§ã—ã‚‡ã†ã€‚'
    ]
    wordWolfRuleEmbed.setColor('#696969');
    wordWolfRuleEmbed.setTitle('ãƒ«ãƒ¼ãƒ«èª¬æ˜');
    wordWolfRuleEmbed.setDescription('ãƒ¯ãƒ¼ãƒ‰ã‚¦ãƒ«ãƒ•ã®ãƒ«ãƒ¼ãƒ«ã‚’ç°¡å˜ã«èª¬æ˜ã—ã¾ã™ã€‚');
    wordWolfRuleEmbed.addField(name = 'æ¦‚è¦', value = gaiyou.join('\n'), inline = false);
    wordWolfRuleEmbed.addField(name = 'é€²ã‚æ–¹', value = susumekata.join('\n'), inline = false);
    wordWolfRuleEmbed.addField(name = 'ç‰¹æ®Šãƒ«ãƒ¼ãƒ«', value = tokushurule.join('\n'), inline = false);

    return { embeds: [wordWolfRuleEmbed] };
}


module.exports = { getWordWolfEmbed, getWordWolfMessageList, getWordWolfVoteEmbed, getWordWolfVoteResultEmbed, getWordWolfRuleEmbed };